# https://taskfile.dev

version: '3'

vars:
  GREETING: Hello, World!

tasks:
  default:
    cmds:
      - echo "{{.GREETING}}"
    silent: true

  run:
    cmds:
      - cd ./todoServer ; go run main.go & 
      - cd ./userService ; go run main.go & 
      - cd ./frontend ; npm start

  up:
    cmds:
      - docker-compose up
      # - cd ./todoServer ; docker build -t todo-service . & 
      # - cd ./userService ; docker build -t user-service . & 
      # - cd ./frontend ; npm start

  proto:
    cmds:
      - protoc --go_out=./pb/ --go_opt=paths=source_relative --go-grpc_out=./pb/ --go-grpc_opt=paths=source_relative proto/*.proto
